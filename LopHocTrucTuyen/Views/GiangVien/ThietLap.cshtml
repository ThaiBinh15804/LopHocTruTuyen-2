@model LopHocTrucTuyen.Models.KhoaHoc

<div class="container my-5">
    <div class="d-flex justify-content-end mb-4 align-items-end">
        <a class="btn btn-danger" href="/GiangVien/XoaKhoaHoc/?makh=@Model.MaKhoaHoc">Xoá khoá học</a>
    </div>

    <div class="edit-course">
        <form action="/GiangVien/SuaKhoaHoc/?makh=@Model.MaKhoaHoc" method="post" enctype="multipart/form-data">
            <input type="hidden" name="MaKhoaHoc" value="@Model.MaKhoaHoc" />

            <div class="form-group mb-4">
                <label for="tenKhoaHoc" class="py-2 fw-bold">Tên khóa học</label>
                <input type="text" class="form-control" id="tenKhoaHoc" name="TenKhoaHoc" value="@Model.TenKhoaHoc" required>
            </div>

            <div class="form-group mb-4">
                <label for="moTa" class="py-2 fw-bold">Mô tả khóa học</label>
                <textarea class="form-control" id="moTa" name="MoTa" rows="4" required>@Model.MoTa</textarea>
            </div>

            <div class="form-group mb-4">
                @if (!string.IsNullOrEmpty(Model.AnhBia))
                {
                    <label class="py-2 fw-bold">Ảnh hiện tại</label>
                    <div>
                        <img id="previewImage" src="~/Content/GiangVien/HinhAnh/KhoaHoc/@Model.AnhBia" alt="Ảnh bìa khóa học" class="image-preview" />
                    </div>
                }
                <label for="imageUpload" class="py-2 fw-bold mt-3">Chọn ảnh mới</label>
                <div>
                    <input type="file" class="form-control-file" id="imageUpload" name="imageUpload" accept="image/*" onchange="previewNewImage(event)">
                </div>
            </div>

            <div class="py-3">
                <button type="submit" class="btn btn-primary">Cập nhật</button>
            </div>
        </form>
    </div>
</div>

<script>
    function previewNewImage(event) {
        const imagePreview = document.getElementById('previewImage');
        const file = event.target.files[0];

        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
            }
            reader.readAsDataURL(file);
        }
    }
</script>

<style>
    .image-preview {
        width: 400px; /* Kích thước hiển thị ảnh */
        height: 300px;
        object-fit: cover; /* Để giữ nguyên tỷ lệ ảnh */
        border-radius: 5px;
        margin-top: 10px;
    }
</style>
